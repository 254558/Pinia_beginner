<script setup>
import { useDangoShop } from './dango-shop'
import DangoShopMessages231 from './components/DangoShopMessages-231.vue'
import DangoStick231 from './components/DangoStick-231.vue'

const dangoShop = useDangoShop()
</script>

<template>
  <h1>å›¢å­å•†åº— ğŸ¡</h1>

  <button data-test="btn-add" class="mx-2" :disabled="dangoShop.cartAmount >= 100" @click="dangoShop.cartAmount++">
    å¢åŠ å›¢å­ ğŸ¡
  </button>
  <button data-test="btn-remove" :disabled="dangoShop.cartAmount < 1" @click="dangoShop.cartAmount--">
    å‡å°‘ä¸€ä¸ª ğŸ¡
  </button>

  <!-- ä½ ä¸éœ€è¦ä¿®æ”¹è¿™ä¸€è¡Œ -->
  <DangoShopMessages231 />

  <template v-if="dangoShop.cartAmount >= 50">
    <p data-test="msg-huge-order">ç¡®å®šå—ï¼Ÿè¿™å¯æ˜¯ä¸ª<b>å¤§è®¢å•</b> ğŸ˜…ã€‚</p>
    <button data-test="btn-reset" @click="dangoShop.cartAmount = 0">é‡æ–°å¼€å§‹</button>
  </template>

  <!-- ä½ ä¸éœ€è¦ä¿®æ”¹è¿™äº›å…ƒç´ çš„ä»»ä½•ç±» -->
  <section data-test="dangos" class="grid lg:grid-cols-5 grid-cols-3 pt-[100px] pl-[40px] pr-[200px]">
    <div v-for="i in dangoShop.cartAmount" :key="i" class="w-1/3 h-[50px] rotate-[262deg] origin-center">
      <DangoStick231 />
    </div>
  </section>
</template>